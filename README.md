## 시연 영상
https://www.youtube.com/watch?v=d7_WO_Ru7ZE

# 한끼 (Hankki)

냉장고에 있는 재료를 기반으로  
지금 만들 수 있는 레시피를 추천해주는  
생활 데이터 기반 레시피 추천 서비스입니다.

본 프로젝트는 단순한 레시피 조회 앱이 아니라,  
**추천 시스템의 데이터 흐름, 점수 구조, 운영 구조까지 직접 설계**하는 것을 목표로 개발되었습니다.

---

## 프로젝트 개요

- **프로젝트명**: 한끼
- **형태**: 모바일 환경을 고려한 웹 서비스 (Web-based Service)
- **핵심 컨셉**:  
  냉장고 재료 + 사용자 행동 로그 기반 개인화 레시피 추천

---

## 주요 기능

### 사용자 기능

- 냉장고 재료 등록 / 삭제  
  - 주재료 중심 입력
  - 추천 점수 계산의 핵심 입력 데이터로 사용
- 레시피 추천
  - 재료 매칭 기반 추천
  - 사용자 행동 로그 반영
- 레시피 액션
  - 저장 (Save)
  - 요리함 (Cook)
  - 스킵 (Skip)
- 레시피 검색
- 사용자 레시피 등록
  - 외부 레시피와 동일한 추천 구조로 관리

---

### 관리자 기능

- 추천 결과 디버그 화면
  - 레시피별 추천 점수 구성 요소 확인
  - 재료 커버리지, 노출 횟수, 전환 여부 등 점수 breakdown 제공
- 서버 및 데이터 통계 확인
  - 전체 레시피 수
  - 전체 사용자 수
  - 전체 Pantry 아이템 수
  - 추천 전환율 지표

---

## 추천 시스템 개요

현재 추천 시스템은 **Rule-based 구조**로 설계되어 있습니다.

### 주요 점수 요소

- 재료 커버리지 비율  
  (보유한 필수 재료 / 전체 필수 재료)
- 유통기한 임박 재료 가중치
- 사용자 행동 로그 기반 가중치
  - 최근 저장 / 요리
  - 스킵 여부
  - 노출 대비 전환 여부
- 최근 추천 반복 감점

추천 점수는 모든 요소가 분해 가능하도록 설계되어,  
관리자 화면에서 **설명 가능한 추천 결과**를 확인할 수 있습니다.

---

## 외부 데이터 파이프라인

- 외부 공공 레시피 API (식약처 Foodsafety Open API) 사용
- 실시간 호출이 아닌 **정기 배치 적재 방식**

### 데이터 흐름

외부 공공 API
↓
Django Command (seed_foodsafety)
↓
중복 레시피 필터링 (external_id 기준)
↓
내부 DB 저장
↓
추천 시스템에서 활용


- 중복 레시피 자동 제거
- 배치 여러 번 실행해도 멱등성(idempotent) 유지
- 운영 안정성과 API 비용을 고려한 구조

---

## 기술 스택

### Frontend
- React
- Vite

### Backend
- Django
- Django REST Framework

### Database
- PostgreSQL (운영)
- SQLite (개발 환경)

### External / Batch
- 식약처 Foodsafety Open API
- Django Management Command
- Windows Task Scheduler

---

## 프로젝트 구조

backend/
├── app/
│ ├── views.py # API 진입점
│ ├── utils.py # 추천 알고리즘 로직
│ ├── services/
│ │ ├── foodsafety.py # 외부 API 연동
│ │ ├── seed_foodsafety.py
│ │ └── recommendation_service.py
│ └── models.py
└── manage.py

frontend/
└── frontend/
├── src/
│ ├── screens/
│ ├── components/
│ └── api.js


---

## 설계 포인트

- 추천 로직과 인증 로직 분리
- 사용자 행동 로그 기반 추천 점수 조정
- 외부 데이터 의존도를 낮춘 운영 구조
- 추천 결과를 숨기지 않는 디버그 가능 설계
- 향후 ML 기반 추천으로 확장 가능한 구조

---

## 향후 확장 방향

- 머신러닝 기반 추천 모델 적용
- 사용자 식생활 패턴 분석
- 장보기 추천, 시간대별 요리 성향 분석
- 추천 캐시 레이어 도입으로 성능 개선

---

## 한 줄 요약

> 냉장고 재료와 사용자 행동 데이터를 기반으로  
> 추천 시스템이 스스로 고도화될 수 있도록 설계한  
> 생활 데이터 기반 레시피 추천 서비스입니다.

